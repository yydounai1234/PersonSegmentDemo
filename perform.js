const a0_0x57686b=a0_0x5c42;function a0_0x3ccb(){const _0x472dcf=['13616YWQUvb','5bbSKdl','zeros','slice','length','execute','webcam','r3o','r2i','model','161364IlqEHZ','loadModel','width','mul','concat','r3i','nextFrame','dispose','loadGraphModel','data','258302KBuSNy','9150NflLvv','r4i','expandDims','cast','2590elZzbC','int32','shouldStop','putImageData','fgr','r1o','videoElement','tensor','pha','shape','now','load\x20model\x20start','stop','1140636ZfYLML','perform','879624iYEedt','modelURL','5553VTnPcI','squeeze','fill','r4o','132365qZUrDs','228CchHHa','height','executeAsync','log','tidy','r1i','r2o','clone','downsample_ratio','getContext','capture','21WZnZHX'];a0_0x3ccb=function(){return _0x472dcf;};return a0_0x3ccb();}(function(_0x4dfdcf,_0x114684){const _0x4a7f17=a0_0x5c42,_0x3fbbf0=_0x4dfdcf();while(!![]){try{const _0x2902b1=parseInt(_0x4a7f17(0x1cc))/0x1+-parseInt(_0x4a7f17(0x1c4))/0x2+parseInt(_0x4a7f17(0x1d8))/0x3*(parseInt(_0x4a7f17(0x1e3))/0x4)+parseInt(_0x4a7f17(0x1da))/0x5*(parseInt(_0x4a7f17(0x1c6))/0x6)+parseInt(_0x4a7f17(0x1b7))/0x7*(parseInt(_0x4a7f17(0x1d9))/0x8)+-parseInt(_0x4a7f17(0x1c8))/0x9*(parseInt(_0x4a7f17(0x1ee))/0xa)+parseInt(_0x4a7f17(0x1ed))/0xb*(parseInt(_0x4a7f17(0x1cd))/0xc);if(_0x2902b1===_0x114684)break;else _0x3fbbf0['push'](_0x3fbbf0['shift']());}catch(_0x42d598){_0x3fbbf0['push'](_0x3fbbf0['shift']());}}}(a0_0x3ccb,0x7aa6d));let t1;function a0_0x5c42(_0x5ec047,_0x1952b0){const _0x3ccb02=a0_0x3ccb();return a0_0x5c42=function(_0x5c42df,_0x27c642){_0x5c42df=_0x5c42df-0x1b4;let _0x2e4179=_0x3ccb02[_0x5c42df];return _0x2e4179;},a0_0x5c42(_0x5ec047,_0x1952b0);}function log(_0x2f1bb8){}class QNPersonSegmentModel{constructor(){const _0x2d4a86=a0_0x5c42;this['model'],this[_0x2d4a86(0x1c7)]='http://r3dg6y3l0.hd-bkt.clouddn.com/WebRTC/model/model.json',this[_0x2d4a86(0x1d2)]=tf[_0x2d4a86(0x1be)](0x0),this['r2i']=tf[_0x2d4a86(0x1be)](0x0),this[_0x2d4a86(0x1e8)]=tf[_0x2d4a86(0x1be)](0x0),this[_0x2d4a86(0x1b4)]=tf[_0x2d4a86(0x1be)](0x0),this[_0x2d4a86(0x1d5)]=tf['tensor'](0.25),this[_0x2d4a86(0x1b9)]=![],this[_0x2d4a86(0x1df)]=null,this[_0x2d4a86(0x1bd)]=null;}async[a0_0x57686b(0x1e4)](_0x2f5586){const _0x5eb008=a0_0x57686b;this[_0x5eb008(0x1bd)]=_0x2f5586,t1=Date[_0x5eb008(0x1c1)](),console[_0x5eb008(0x1d0)](_0x5eb008(0x1c2)),this[_0x5eb008(0x1e2)]=await tf[_0x5eb008(0x1eb)](this['modelURL']),console[_0x5eb008(0x1d0)]('load\x20model\x20end');const _0x4ca444=tf[_0x5eb008(0x1db)]([_0x2f5586[_0x5eb008(0x1ce)],_0x2f5586[_0x5eb008(0x1e5)],0x3]),_0x4eb84d=tf[_0x5eb008(0x1d1)](()=>_0x4ca444[_0x5eb008(0x1b5)](0x0)['div'](0xff)),[_0x499b06,_0x4386d6,_0x77007a,_0x5569db,_0x159e87,_0x5e79f0]=await this[_0x5eb008(0x1e2)][_0x5eb008(0x1cf)]({'src':_0x4eb84d,'r1i':this[_0x5eb008(0x1d2)],'r2i':this[_0x5eb008(0x1e1)],'r3i':this[_0x5eb008(0x1e8)],'r4i':this[_0x5eb008(0x1b4)],'downsample_ratio':this[_0x5eb008(0x1d5)]},[_0x5eb008(0x1bb),_0x5eb008(0x1bf),_0x5eb008(0x1bc),_0x5eb008(0x1d3),_0x5eb008(0x1e0),_0x5eb008(0x1cb)]);tf[_0x5eb008(0x1ea)]([_0x4ca444,_0x4eb84d,_0x499b06,_0x4386d6,this['r1i'],this['r2i'],this[_0x5eb008(0x1e8)],this[_0x5eb008(0x1b4)]]),[this[_0x5eb008(0x1d2)],this[_0x5eb008(0x1e1)],this[_0x5eb008(0x1e8)],this[_0x5eb008(0x1b4)]]=[_0x77007a,_0x5569db,_0x159e87,_0x5e79f0];}async[a0_0x57686b(0x1c5)](_0x29fce8,_0x2132dc,_0x44fd2f){const _0x5f23b1=a0_0x57686b;this[_0x5f23b1(0x1b9)]=![],this[_0x5f23b1(0x1df)]=await tf['data']['webcam'](this['videoElement'],_0x44fd2f||{}),log('webcam');const _0x38e0c5=async()=>{const _0x5f466b=_0x5f23b1;if(this[_0x5f466b(0x1b9)])return;await tf[_0x5f466b(0x1e9)](),log(_0x5f466b(0x1e9));const _0x49da55=await this[_0x5f466b(0x1df)][_0x5f466b(0x1d7)]();log('capture');if(!_0x49da55)return;const _0x285d6e=tf[_0x5f466b(0x1d1)](()=>_0x49da55['expandDims'](0x0)['div'](0xff)),[_0x58c1fa,_0x44a36d,_0x428ae8,_0xbb2965,_0x56ce71,_0x2580b4]=await this[_0x5f466b(0x1e2)]['executeAsync']({'src':_0x285d6e,'r1i':this[_0x5f466b(0x1d2)],'r2i':this[_0x5f466b(0x1e1)],'r3i':this['r3i'],'r4i':this[_0x5f466b(0x1b4)],'downsample_ratio':this[_0x5f466b(0x1d5)]},['fgr',_0x5f466b(0x1bf),_0x5f466b(0x1bc),_0x5f466b(0x1d3),_0x5f466b(0x1e0),_0x5f466b(0x1cb)]);log(_0x5f466b(0x1de)),drawMatte(_0x58c1fa['clone'](),_0x44a36d[_0x5f466b(0x1d4)](),_0x29fce8,_0x2132dc),log('drawMatte'),tf[_0x5f466b(0x1ea)]([_0x49da55,_0x285d6e,_0x58c1fa,_0x44a36d,this[_0x5f466b(0x1d2)],this['r2i'],this[_0x5f466b(0x1e8)],this[_0x5f466b(0x1b4)]]),[this[_0x5f466b(0x1d2)],this['r2i'],this[_0x5f466b(0x1e8)],this[_0x5f466b(0x1b4)]]=[_0x428ae8,_0xbb2965,_0x56ce71,_0x2580b4],requestAnimationFrame(_0x38e0c5);};_0x38e0c5();}['stop'](){const _0x36e3da=a0_0x57686b;this['shouldStop']=!![],this[_0x36e3da(0x1df)]&&this[_0x36e3da(0x1df)][_0x36e3da(0x1c3)]();}}const qnPersonSegmentModel=new QNPersonSegmentModel();async function drawMatte(_0x8c80f1,_0x35bc18,_0x5c447e,_0x46aa32){const _0x569295=a0_0x57686b,_0x4e5a33=tf[_0x569295(0x1d1)](()=>{const _0x72d893=_0x569295,_0x15abeb=_0x8c80f1!==null?_0x8c80f1[_0x72d893(0x1c9)](0x0)[_0x72d893(0x1e6)](0xff)['cast'](_0x72d893(0x1b8)):tf[_0x72d893(0x1ca)]([_0x35bc18[_0x72d893(0x1c0)][0x1],_0x35bc18[_0x72d893(0x1c0)][0x2],0x3],0xff,_0x72d893(0x1b8)),_0x5d3bf3=_0x35bc18!==null?_0x35bc18[_0x72d893(0x1c9)](0x0)['mul'](0xff)[_0x72d893(0x1b6)](_0x72d893(0x1b8)):tf[_0x72d893(0x1ca)]([_0x8c80f1[_0x72d893(0x1c0)][0x1],_0x8c80f1['shape'][0x2],0x1],0xff,_0x72d893(0x1b8));return tf[_0x72d893(0x1e7)]([_0x15abeb,_0x5d3bf3],-0x1);});_0x8c80f1&&_0x8c80f1[_0x569295(0x1ea)](),_0x35bc18&&_0x35bc18['dispose']();const [_0x2395f0,_0x365469]=_0x4e5a33[_0x569295(0x1c0)][_0x569295(0x1dc)](0x0,0x2),_0x9c7334=new Uint8ClampedArray(await _0x4e5a33[_0x569295(0x1ec)]());for(let _0x434b3e=0x0;_0x434b3e<_0x9c7334[_0x569295(0x1dd)];_0x434b3e+=0x4){_0x9c7334[_0x434b3e+0x3]!==0xff&&(_0x9c7334[_0x434b3e]=_0x46aa32['data'][_0x434b3e],_0x9c7334[_0x434b3e+0x1]=_0x46aa32[_0x569295(0x1ec)][_0x434b3e+0x1],_0x9c7334[_0x434b3e+0x2]=_0x46aa32[_0x569295(0x1ec)][_0x434b3e+0x2],_0x9c7334[_0x434b3e+0x3]=_0x46aa32[_0x569295(0x1ec)][_0x434b3e+0x3]);}const _0x345973=new ImageData(_0x9c7334,_0x365469,_0x2395f0);_0x5c447e[_0x569295(0x1e5)]=_0x365469,_0x5c447e['height']=_0x2395f0;const _0x344bea=_0x5c447e[_0x569295(0x1d6)]('2d');_0x344bea[_0x569295(0x1ba)](_0x345973,0x0,0x0),_0x4e5a33[_0x569295(0x1ea)]();}